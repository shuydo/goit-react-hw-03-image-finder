{"version":3,"sources":["Comps/Searchbar.js","ImageGallery.jsx","js/Api.js","App.js","index.js"],"names":["Searchbar","onSubmitGo","onSubmit","e","preventDefault","target","elements","query","value","type","name","ImageGallery","imgs","map","img","src","webformatURL","alt","id","constURL","rootURL","fKeys","arr","el","largeImageURL","fetchPix","pageN","a","fetch","then","r","json","hits","App","state","status","handleSubmit","setState","_","pState","console","log","this","showImgs","length","className","Component","ReactDOM","render","document","getElementById"],"mappings":"iQAAe,SAASA,EAAT,GAAoC,IAAfC,EAAc,EAAdA,WAClC,OACE,uBACEC,SAAU,SAACC,GACTA,EAAEC,iBACFH,EAAWE,EAAEE,OAAOC,SAASC,MAAMC,QAHvC,UAOE,uBAAOC,KAAK,OAAOC,KAAK,UACxB,+CCVS,SAASC,EAAT,GAAiC,IAATC,EAAQ,EAARA,KACrC,OACE,6BACGA,EAAKC,KAAI,SAACC,GAAD,OACR,6BACE,qBAAKC,IAAKD,EAAIE,aAAcC,IAAI,cADzBH,EAAII,SCFrB,IAOMC,EAAWC,6GAEXC,EAAQ,SAACC,GACb,OAAOA,EAAIT,KAAI,SAACU,GACd,MAAO,CACLL,GAAIK,EAAGL,GACPF,aAAcO,EAAGP,aACjBQ,cAAeD,EAAGC,mBAKT,SAAeC,EAA9B,oC,4CAAe,WAAwBlB,EAAOmB,GAA/B,SAAAC,EAAA,sEAQAC,MAAM,GAAD,OAAIT,GAAJ,OAAeZ,EAAf,iBAA6BmB,EAA7B,qBAtBN,KAuBTG,MAAK,SAACC,GAAD,OAAOA,EAAEC,UACdF,MAAK,SAACC,GAAD,OAAOT,EAAMS,EAAEE,SAVV,oF,0BCLMC,E,4MACnBC,MAAQ,CACN3B,MAAO,KACPK,KAAM,GACNuB,OAAQ,Q,EAGVC,aAAe,SAAC7B,GAAD,OAAW,EAAK8B,SAAS,CAAE9B,W,+FAE1C,WAAyB+B,EAAGC,GAA5B,SAAAZ,EAAA,yDACEa,QAAQC,IAAIF,EAAOhC,MAAOmC,KAAKR,MAAM3B,OACjCgC,EAAOhC,QAAUmC,KAAKR,MAAM3B,MAFlC,4BASImC,KATJ,SAUkBjB,EAASiB,KAAKR,MAAM3B,MAAO,GAV7C,yBAUMK,KAVN,WASSyB,SATT,gE,6EAkBA,WAEE,IAAQzB,EAAS8B,KAAKR,MAAdtB,KACF+B,EAAW/B,EAAKgC,OAAS,EAC/B,OACE,sBAAKC,UAAU,MAAf,UAEE,cAAC7C,EAAD,CAAWC,WAAYyC,KAAKN,eAC3BO,GAAY,cAAChC,EAAD,CAAcC,KAAMA,IACjC,cAAC,IAAD,W,GApCyBkC,aCXjCC,IAASC,OAEP,cAAC,EAAD,IAEAC,SAASC,eAAe,W","file":"static/js/main.3cd4c578.chunk.js","sourcesContent":["export default function Searchbar({ onSubmitGo }) {\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSubmitGo(e.target.elements.query.value);\n      }}\n      // autoComplete=\"off\"\n    >\n      <input type=\"text\" name=\"query\" />\n      <button>Search</button>\n    </form>\n  );\n}\n","export default function ImageGallery({ imgs }) {\n  return (\n    <ul>\n      {imgs.map((img) => (\n        <li key={img.id}>\n          <img src={img.webformatURL} alt=\"some pic\"></img>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","// 21031732-6fee4eefe658f550324b0a29e\n// https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\nconst rootURL = \"https://pixabay.com/api/?image_type=\";\n// const tCont = 'photo'; // type contetnt\n// const orient = 'horizontal';\n// let query = 'cat';\n// let pageN = 1; // page No\nconst pPage = 12; // 12 ===== 200 max\nconst KEY = \"21031732-6fee4eefe658f550324b0a29e\"; // my\nconst constURL = rootURL + \"photo&orientation=horizontal&key=\" + KEY + \"&q=\";\n\nconst fKeys = (arr) => {\n  return arr.map((el) => {\n    return {\n      id: el.id,\n      webformatURL: el.webformatURL,\n      largeImageURL: el.largeImageURL,\n    };\n  });\n};\n\nexport default async function fetchPix(query, pageN) {\n  //   console.log(`${rootURL}${tCont}&orientation=${orient}&q=${query}&page=${pageN}&per_page=${pPage}&key=${KEY}`);\n  //   fetch(\n  //     `${rootURL}${tCont}&orientation=${orient}&q=${query}&page=${pageN}&per_page=${pPage}&key=${KEY}`,\n  //   );\n  // fetch(\n  //     `${rootURL}${tCont}&q=${query}&per_page=${pPage}&key=${KEY}`,\n  //   );\n  return await fetch(`${constURL}${query}&page=${pageN}&per_page=${pPage}`)\n    .then((r) => r.json())\n    .then((r) => fKeys(r.hits));\n  // .then(fKeys);\n  // then(r=>r.map(el=>el.id))\n  // .then(r => {\n  //   [1, 2, 3].map(el => console.log(el));\n\n  //   r.map(el => console.log(el));\n  // });\n}\n// export default { fetchPix };\n","// import \"./App.css\";\n// import axios from \"axios\";\nimport React, { Component } from \"react\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// import ImageGalleryItem from \"./ImageGalleryItem\";\n\nimport Searchbar from \"./Comps/Searchbar\";\nimport ImageGallery from \"./ImageGallery\";\n// alert(\"www\");\nimport fetchPix from \"./js/Api\";\n\n// import  Searchbar  from \"./Comps/Searchbar\";\n\nexport default class App extends Component {\n  state = {\n    query: null,\n    imgs: [],\n    status: \"idle\",\n  };\n\n  handleSubmit = (query) => this.setState({ query });\n\n  async componentDidUpdate(_, pState) {\n    console.log(pState.query, this.state.query);\n    if (pState.query !== this.state.query) {\n      // console.log(\"fetch!\");\n\n      // https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=21031732-6fee4eefe658f550324b0a29e\n      // const {data}=await axios.get(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.state.query}$&page=1&per_page=12&key=21031732-6fee4eefe658f550324b0a29e`)\n      // const resp = await fetchPix(this.state.query, 1)\n      // .then(imgs => {\n      this.setState({\n        imgs: await fetchPix(this.state.query, 1),\n      });\n      // // });\n      // console.log(\"hello\", this.state.imgs[0]);\n      // console.log(\"hello data.hits:\", this.state.imgs[0]);\n    }\n  }\n\n  render() {\n    // const notify = () => toast(\"Wow so easy!\");\n    const { imgs } = this.state;\n    const showImgs = imgs.length > 0;\n    return (\n      <div className=\"App\">\n        {/* <button onClick={notify}>Notify!</button> */}\n        <Searchbar onSubmitGo={this.handleSubmit} />\n        {showImgs && <ImageGallery imgs={imgs} />}\n        <ToastContainer />\n\n        {/* <img src={} width='320' alt='img'></img> */}\n        {/* <Searchbar /> */}\n        {/* {r()} */}\n        {/* <ImageGalleryItem /> */}\n      </div>\n    );\n  }\n}\n\n// `<Searchbar>`, `<ImageGallery>`, `<ImageGalleryItem>`,\n// `<Loader>`, `<Button>` ,`<Modal>`\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import './index.css';\nimport App from \"./App\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}