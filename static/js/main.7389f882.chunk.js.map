{"version":3,"sources":["Comps/Searchbar.js","ImageGalleryItem.js","ImageGallery.jsx","Modal.jsx","js/Api.js","Button.jsx","App.js","index.js"],"names":["Searchbar","onSubmitDo","className","onSubmit","e","preventDefault","target","elements","value","type","autoComplete","autoFocus","placeholder","ImageGalleryItem","id","url","clickOnImg","src","alt","onClick","ImageGallery","imgs","clickOnGall","map","webformatURL","Modal","handleKeyDown","code","props","onClose","handleClickOnBD","currentTarget","window","addEventListener","this","removeEventListener","urlBigImg","Component","constURL","fetchPix","query","pageN","fetch","then","r","json","hits","el","largeImageURL","Button","App","state","curPage","modalImgId","showM","status","handleSubmit","a","setState","toggleModal","handleMore","handleTakeID","_","pState","scrollTo","top","document","body","scrollHeight","behavior","length","indexOf","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7389f882.chunk.js","sourcesContent":["export default function Searchbar({ onSubmitDo }) {\n  return (\n    <>\n      <header className=\"Searchbar\">\n        <form\n          className=\"SearchForm\"\n          onSubmit={(e) => {\n            e.preventDefault();\n            onSubmitDo(e.target.elements[1].value); //  как взять нужный ДОМ эл-т по тегу, а не поряд.номеру?\n            e.target.elements[1].value = \"\";\n          }}\n        >\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n","// import Modal from \"./Modal\";\nexport default function ImageGalleryItem({ id, url, clickOnImg }) {\n  return (\n    <img\n      className=\"galleryImg\"\n      id={id}\n      src={url}\n      alt=\"img\"\n      // onClick={e => {\n      //   console.log(e.target.id);\n      //   <Modal id={e.target.id} />;\n      // }}\n      onClick={clickOnImg}\n    ></img>\n  );\n} // <li className=\"ImageGalleryItem\" key={img.id}></li>\n","import ImageGalleryItem from \"./ImageGalleryItem\";\nexport default function ImageGallery({ imgs, clickOnGall }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {imgs.map(({ id, webformatURL }) => (\n        <li key={id}>\n          <ImageGalleryItem\n            id={id}\n            url={webformatURL}\n            clickOnImg={clickOnGall}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { Component } from \"react\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") this.props.onClose();\n  };\n  handleClickOnBD = (e) => {\n    if (e.target === e.currentTarget) this.props.onClose();\n  };\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleClickOnBD}>\n        <div className=\"Modal\">\n          <img src={this.props.urlBigImg} alt=\"oversize\" />\n        </div>\n      </div>\n    );\n  }\n} // https://basiclightbox.electerious.com/\n","// const {data}=await axios.get(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.state.query}$&page=1&per_page=12&key=21031732-6fee4eefe658f550324b0a29e`)\n// https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\nconst URL = \"https://pixabay.com/api/?image_type=\";\nconst KEY = \"21031732-6fee4eefe658f550324b0a29e\"; // pPage 200(20)\nconst constURL = `${URL}photo&orientation=horizontal&key=${KEY}&per_page=12&q=`;\n\nconst fKeys = (arr) => {\n  return arr.map((el) => {\n    return {\n      id: el.id,\n      webformatURL: el.webformatURL,\n      largeImageURL: el.largeImageURL,\n    };\n  });\n};\n\nexport default function fetchPix(query, pageN) {\n  return fetch(`${constURL}${query}&page=${pageN}`)\n    .then((r) => r.json())\n    .then((r) => fKeys(r.hits));\n}\n","export default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import React, { Component } from \"react\"; // import axios from \"axios\";\nimport Loader from \"react-loader-spinner\"; // import { ToastContainer } from \"react-toastify\";\nimport Searchbar from \"./Comps/Searchbar\"; // import \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./ImageGallery\";\nimport Modal from \"./Modal\";\n\nimport fetchPix from \"./js/Api\";\nimport Button from \"./Button\";\n\nexport default class App extends Component {\n  state = {\n    query: null,\n    curPage: 1,\n    imgs: [],\n    modalImgId: null,\n    showM: false,\n    status: false,\n  };\n\n  handleSubmit = async query => await this.setState({ query, curPage: 1 });\n\n  toggleModal = () => this.setState({ showM: !this.state.showM });\n\n  handleMore = async () =>\n    await this.setState(({ curPage }) => ({ curPage: curPage + 1 }));\n\n  handleTakeID = e => {\n    this.setState({ modalImgId: +e.target.id });\n    this.toggleModal();\n  };\n\n  async componentDidUpdate(_, pState) {\n    const { state } = this;\n    const { query, curPage } = state;\n\n    if (pState.query !== query) {\n      this.setState({\n        status: true,\n        imgs: [...(await fetchPix(query, curPage))],\n      });\n      this.setState({ status: false });\n    }\n\n    if (pState.curPage !== curPage) {\n      this.setState({\n        status: true,\n        imgs: [...(await fetchPix(query, curPage))],\n      });\n      this.setState({ status: false });\n    }\n\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: \"smooth\",\n    }); // console.log(\"finall cDU\");\n  }\n\n  render() {\n    // const notify = () => toast(\"Wow so easy!\");\n    const { state, handleTakeID, handleMore, toggleModal } = this;\n    const { imgs, status, showM, modalImgId } = state;\n    const toSearch = id => {\n      return imgs[imgs.map(el => el.id).indexOf(id)].largeImageURL;\n    }; // return big img url by id (take from DOM by click on screen)\n\n    return (\n      <div className=\"App\">\n        {status && (\n          <Loader\n            className=\"Loader\"\n            type=\"Watch\"\n            // type=\"ThreeDots\" color=\"red\" color=\"#00BFFF\" height={100} width={100} timeout={3000} 303f9f\n            // Audio Watch Triangle BallTriangle Bars Circles Grid Hearts Oval Puff Rings TailSpin ThreeDots RevolvingDot MutatingDots\n          />\n        )}\n        {/* <button onClick={notify}>Notify!</button>  */}\n        <Searchbar onSubmitDo={query => this.setState({ query })} />\n        {!status && imgs.length > 0 && (\n          <>\n            <ImageGallery imgs={imgs} clickOnGall={handleTakeID} />\n            <Button onClick={handleMore} />\n          </>\n        )}\n        {showM && (\n          <Modal urlBigImg={toSearch(modalImgId)} onClose={toggleModal} />\n        )}{\" \"}\n        {/* <ToastContainer /> */}\n      </div>\n    );\n  }\n} // <Searchbar> <ImageGallery> <ImageGalleryItem> <Loader> <Button> <Modal>\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />,\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}